# リモ達API

株式会社ゆめみの[サーバーサイドインターン](https://hrmos.co/pages/yumemi/jobs/0000523)の成果物

## 課題概要

ゆめみで実際に制度化されている[「リモ達キャンペーン」と「ジャンボ宝くじ」](https://nlab.itmedia.co.jp/nl/articles/2105/17/news004.html)をAPIとして実装。

### リモ達キャンペーン
「リモートワークが標準となったゆめみで、各々がリモートワークでも生産性を向上させる努力をすることでインセンティブがもらえる」という制度。具体的には[こちらのページ](https://www.notion.so/a20fe69ba4dd4d57afd7d42102474703)を参照。

### ジャンボ宝くじ
「リモ達を15項目以上クリアした社員は、会社主催の宝くじ（100万円）に参加することができる」という制度。宝くじの当選はランダムではなく、以下の**最小の自然数ゲームで**当選者が決定。
- 各々が自然数を1つ投票
- 同じ数字が被ったら脱落（例：「3」が2人以上投票しているなど）
- 自然数は正の整数なので"0"や"少数・分数"は含まない（例：15、29、3など）
- 最も小さい単独の自然数を投票した人の勝ち
### 機能要件
*は必須、✅はクリア
**認証・承認**
- ログインができる*✅
    - ログイン方式（email + password、Google OAuthなど）は任意
    - Auth0などの外部プロバイダーの利用も可
- ユーザ作成ができる✅
    - 必須機能ではないので、初めからユーザを用意しておくでも良い
- ロール制御ができる✅

**リモ達**
- 一覧が取得できる*✅
- 各項目にチェックができる*✅
    - チェックのキャンセルは任意要件✅
    - 応募後にチェックの追加・キャンセルをすることはできない
- ネガティブチェックができる✅
- 権限者が項目を作成・編集できる✅
    - 今回の必須機能ではないので、初期データとしてDBに直接書き込むでもよい

**ジャンボ宝くじ**
- 応募できる*✅
- 応募可否の制御ができる*✅
- 当選者と当選番号が取得できる*✅

**ネットワーク**
- IP制限ができる
- SSL/TLS通信ができる
- CI/CDができる✅

## 作成API
### 認証
- POST /api/register :ユーザ登録
- POST /api/login：ログイン

**以下ログイン時のトークンが必要**
### リモ達
- GET /api/tasks：タスク一覧取得
- POST /api/admin/task：タスク登録
- PUT /api/achievements：達成項目の更新
###　宝くじ
- GET /api/user/lottery：宝くじに関する状態の取得
- POST /api/vote：宝くじに応募
- GET /api/winner：当選者、当選番号確認

## 謝辞
今回受け入れてくださった株式会社ゆめみの皆さん、チームQ、メンターの方々には大変お世話になりました。ありがとうございました。